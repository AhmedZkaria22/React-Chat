{"ast":null,"code":"var _jsxFileName = \"E:\\\\ITI\\\\React\\\\AZ Chat\\\\src\\\\AZChatbot\\\\AzChatbot.js\",\n    _s = $RefreshSig$();\n\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { useEffect, useRef, useState } from 'react';\nimport './AzChatbot.scss';\nimport { FaAngleDown, FaAngleUp, FaLocationArrow } from 'react-icons/fa';\nimport firebase from '../Firebase/Firebase.js';\nimport { auth, firestore } from '../Firebase/Firebase.js';\nimport SignIn from '../Components/SignIn.js';\nimport SignOut from '../Components/SignOut';\nimport ChatRoom from '../Components/ChatRoom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AzChatbot() {\n  _s();\n\n  const [user] = useAuthState(auth);\n  let tg = false; // useEffect(() => {\n  //   const btnStyleEl = document.querySelector(\".btnStyle\");\n  //   const sginBtnEl = document.querySelector(\".sginBtn\");\n  //   // if( sginBtnEl !== null ){ btnStyleEl.setAttribute(\"disabled\", \"true\"); }\n  //   // else{ btnStyleEl.removeAttribute(\"disabled\"); }\n  //   // if( sginBtnEl !== null ){ btnStyleEl.style.display = 'none'; }\n  //   // if( sginBtnEl ){ btnStyleEl.style.display = 'inline-block!important'; }\n  //   // else{ btnStyleEl.style.display = 'block'; }\n  //   console.log( btnStyleEl, sginBtnEl );\n  // }, []);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"AZChat\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatHeader\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btnStyle\",\n          onClick: () => {\n            if (tg == false) {\n              document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.height = \"0rem\";\n              document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.maxHeight = \"0rem\";\n              document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.padding = \"0\";\n              document.querySelector(\".AZChat .chatContainer .chatHeader\").style.bottom = \"2rem\";\n              document.querySelector(\".AZChat .chatContainer .chatHeader\").style.top = \"auto\";\n              document.querySelector(\".AZChat .chatContainer .chatHeader .tgBtnD\").style.display = \"none\";\n              document.querySelector(\".AZChat .chatContainer .chatHeader .tgBtnU\").style.display = \"inline-block\";\n              tg = true;\n            } else if (tg == true) {\n              document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.height = \"calc(100% - 2rem)\";\n              document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.maxHeight = \"calc(100% - 2rem)\";\n              document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.padding = \"10px 0px\";\n              document.querySelector(\".AZChat .chatContainer .chatHeader\").style.bottom = \"auto\";\n              document.querySelector(\".AZChat .chatContainer .chatHeader\").style.top = \"0rem\";\n              document.querySelector(\".AZChat .chatContainer .chatHeader .tgBtnU\").style.display = \"none\";\n              document.querySelector(\".AZChat .chatContainer .chatHeader .tgBtnD\").style.display = \"inline-block\";\n              tg = false;\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(FaAngleDown, {\n            className: \"tgBtnD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(FaAngleUp, {\n            className: \"tgBtnU\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 55\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SignOut, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatRoom\",\n        children: user ? /*#__PURE__*/_jsxDEV(ChatRoom, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 36\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n/*function SignIn(){\r\n\r\n  const signInWithGoogle = () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    auth.signInWithPopup(provider);\r\n  }\r\n\r\n  return(\r\n    <button className={\"sginBtn\"} onClick={signInWithGoogle}>Sign in with Google</button>\r\n  )\r\n}*/\n\n/*function SignOut(){\r\n  return auth.currentUser && (\r\n    <button onClick={() => auth.signOut()}>Sign Out</button>\r\n  )\r\n}*/\n\n/*function ChatRoom(){\r\n  const dummy = useRef();\r\n  const messagesRef = firestore.collection('messages');\r\n  const query = messagesRef.orderBy('createdAt').limit(25);\r\n  const [messages] = useCollectionData(query, {idField: 'id'});\r\n  const [formValue, setFormValue] = useState('');\r\n  useEffect(() => {\r\n    const btnStyleEl = document.querySelector(\".btnStyle\");\r\n    const sginBtnEl = document.querySelector(\".sginBtn\");\r\n    btnStyleEl.style.display = 'inline-block';        \r\n    console.log( btnStyleEl, sginBtnEl );\r\n  }, []);\r\n\r\n  const sendMessage = async(e) => {\r\n    e.preventDefault();\r\n\r\n    const { uid, photoURL } = auth.currentUser;\r\n\r\n    await messagesRef.add({\r\n      text: formValue,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n      uid,\r\n      photoURL\r\n    });\r\n\r\n    setFormValue('');\r\n\r\n    dummy.current.scrollIntoView({ behavior: 'smooth' });\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <section id=\"mainChat\">\r\n        {messages && messages.map(msg => <ChatMessage key={msg.id} message={msg} />)}\r\n        <div ref={dummy}></div>\r\n      </section>\r\n\r\n      <form onSubmit={sendMessage}>\r\n        <input value={formValue} onChange={(e) => setFormValue(e.target.value)} placeholder=\"say something nice\" />\r\n        <button type=\"submit\" disabled={!formValue}><FaLocationArrow /></button>\r\n      </form>\r\n    </>\r\n  )\r\n}*/\n\n\n_s(AzChatbot, \"hP/7NvzUIXfxIpRVjMlmHSnysKo=\", false, function () {\n  return [useAuthState];\n});\n\n_c = AzChatbot;\n\nfunction ChatMessage(props) {\n  const {\n    text,\n    uid,\n    photoURL\n  } = props.message;\n  const messageClass = uid === auth.currentUser.uid ? 'sent' : 'received';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `message ${messageClass}`,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: photoURL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = ChatMessage;\nexport default AzChatbot;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AzChatbot\");\n$RefreshReg$(_c2, \"ChatMessage\");","map":{"version":3,"sources":["E:/ITI/React/AZ Chat/src/AZChatbot/AzChatbot.js"],"names":["useAuthState","useCollectionData","useEffect","useRef","useState","FaAngleDown","FaAngleUp","FaLocationArrow","firebase","auth","firestore","SignIn","SignOut","ChatRoom","AzChatbot","user","tg","document","querySelector","style","height","maxHeight","padding","bottom","top","display","ChatMessage","props","text","uid","photoURL","message","messageClass","currentUser"],"mappings":"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","sourcesContent":["import { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport { useEffect, useRef, useState } from 'react';\r\n\r\nimport './AzChatbot.scss';\r\nimport {FaAngleDown, FaAngleUp, FaLocationArrow} from 'react-icons/fa';\r\n\r\n\r\nimport firebase from '../Firebase/Firebase.js';\r\nimport {auth, firestore} from '../Firebase/Firebase.js';\r\nimport SignIn from '../Components/SignIn.js';\r\nimport SignOut from '../Components/SignOut';\r\nimport ChatRoom from '../Components/ChatRoom';\r\n\r\n\r\n\r\n\r\nfunction AzChatbot() {\r\n\r\n  const [user] = useAuthState(auth);\r\n  let tg = false;\r\n\r\n  // useEffect(() => {\r\n  //   const btnStyleEl = document.querySelector(\".btnStyle\");\r\n  //   const sginBtnEl = document.querySelector(\".sginBtn\");\r\n    \r\n  //   // if( sginBtnEl !== null ){ btnStyleEl.setAttribute(\"disabled\", \"true\"); }\r\n  //   // else{ btnStyleEl.removeAttribute(\"disabled\"); }\r\n  //   // if( sginBtnEl !== null ){ btnStyleEl.style.display = 'none'; }\r\n  //   // if( sginBtnEl ){ btnStyleEl.style.display = 'inline-block!important'; }\r\n  //   // else{ btnStyleEl.style.display = 'block'; }\r\n\r\n\r\n  //   console.log( btnStyleEl, sginBtnEl );\r\n  // }, []);\r\n\r\n  return (\r\n    <div className=\"AZChat\">    \r\n        <div className={\"chatContainer\"}>\r\n          <div className={\"chatHeader\"}>\r\n            <h5>Chat</h5>\r\n            <button className={\"btnStyle\"} \r\n                onClick={() => {\r\n                if(tg == false){\r\n                document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.height = \"0rem\";\r\n                document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.maxHeight = \"0rem\";\r\n                document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.padding = \"0\";\r\n                document.querySelector(\".AZChat .chatContainer .chatHeader\").style.bottom = \"2rem\"; \r\n                document.querySelector(\".AZChat .chatContainer .chatHeader\").style.top = \"auto\"; \r\n                document.querySelector(\".AZChat .chatContainer .chatHeader .tgBtnD\").style.display = \"none\"; \r\n                document.querySelector(\".AZChat .chatContainer .chatHeader .tgBtnU\").style.display = \"inline-block\";\r\n                tg = true;\r\n                }else if(tg == true){\r\n                    document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.height = \"calc(100% - 2rem)\";\r\n                    document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.maxHeight = \"calc(100% - 2rem)\";\r\n                    document.querySelector(\".AZChat .chatContainer .chatRoom #mainChat\").style.padding = \"10px 0px\";\r\n                    document.querySelector(\".AZChat .chatContainer .chatHeader\").style.bottom = \"auto\"; \r\n                    document.querySelector(\".AZChat .chatContainer .chatHeader\").style.top = \"0rem\"; \r\n                    document.querySelector(\".AZChat .chatContainer .chatHeader .tgBtnU\").style.display = \"none\";\r\n                    document.querySelector(\".AZChat .chatContainer .chatHeader .tgBtnD\").style.display = \"inline-block\"; \r\n                    tg = false;\r\n                }\r\n                }}><FaAngleDown className={\"tgBtnD\"}/><FaAngleUp className={\"tgBtnU\"}/>\r\n            </button> \r\n            <SignOut />\r\n          </div>          \r\n          <div className={\"chatRoom\"}>\r\n            {user ? <ChatRoom /> : <SignIn />}\r\n          </div>         \r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/*function SignIn(){\r\n\r\n  const signInWithGoogle = () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    auth.signInWithPopup(provider);\r\n  }\r\n\r\n  return(\r\n    <button className={\"sginBtn\"} onClick={signInWithGoogle}>Sign in with Google</button>\r\n  )\r\n}*/\r\n\r\n/*function SignOut(){\r\n  return auth.currentUser && (\r\n    <button onClick={() => auth.signOut()}>Sign Out</button>\r\n  )\r\n}*/\r\n\r\n/*function ChatRoom(){\r\n  const dummy = useRef();\r\n  const messagesRef = firestore.collection('messages');\r\n  const query = messagesRef.orderBy('createdAt').limit(25);\r\n  const [messages] = useCollectionData(query, {idField: 'id'});\r\n  const [formValue, setFormValue] = useState('');\r\n  useEffect(() => {\r\n    const btnStyleEl = document.querySelector(\".btnStyle\");\r\n    const sginBtnEl = document.querySelector(\".sginBtn\");\r\n    btnStyleEl.style.display = 'inline-block';        \r\n    console.log( btnStyleEl, sginBtnEl );\r\n  }, []);\r\n\r\n  const sendMessage = async(e) => {\r\n    e.preventDefault();\r\n\r\n    const { uid, photoURL } = auth.currentUser;\r\n\r\n    await messagesRef.add({\r\n      text: formValue,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n      uid,\r\n      photoURL\r\n    });\r\n\r\n    setFormValue('');\r\n\r\n    dummy.current.scrollIntoView({ behavior: 'smooth' });\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <section id=\"mainChat\">\r\n        {messages && messages.map(msg => <ChatMessage key={msg.id} message={msg} />)}\r\n        <div ref={dummy}></div>\r\n      </section>\r\n\r\n      <form onSubmit={sendMessage}>\r\n        <input value={formValue} onChange={(e) => setFormValue(e.target.value)} placeholder=\"say something nice\" />\r\n        <button type=\"submit\" disabled={!formValue}><FaLocationArrow /></button>\r\n      </form>\r\n    </>\r\n  )\r\n}*/\r\n\r\nfunction ChatMessage(props){\r\n  const {text, uid, photoURL} = props.message;\r\n\r\n  const messageClass = uid === auth.currentUser.uid ? 'sent' : 'received';\r\n  \r\n  return(\r\n    <div className={`message ${messageClass}`}>\r\n      <img src={photoURL} />\r\n      <p>{text}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AzChatbot;"]},"metadata":{},"sourceType":"module"}