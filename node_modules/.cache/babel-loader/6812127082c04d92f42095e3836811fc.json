{"ast":null,"code":"var _jsxFileName = \"E:\\\\ITI\\\\React\\\\AZ Chat\\\\src\\\\Components\\\\ChatRoom.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { firestore } from '../Firebase/Firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ChatRoom() {\n  _s();\n\n  const dummy = useRef();\n  const messagesRef = firestore.collection('messages');\n  const query = messagesRef.orderBy('createdAt').limit(25);\n  const [messages] = useCollectionData(query, {\n    idField: 'id'\n  });\n  const [formValue, setFormValue] = useState('');\n  useEffect(() => {\n    const btnStyleEl = document.querySelector(\".btnStyle\");\n    const sginBtnEl = document.querySelector(\".sginBtn\");\n    btnStyleEl.style.display = 'inline-block';\n    console.log(btnStyleEl, sginBtnEl);\n  }, []);\n\n  const sendMessage = async e => {\n    e.preventDefault();\n    const {\n      uid,\n      photoURL\n    } = auth.currentUser;\n    await messagesRef.add({\n      text: formValue,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n      uid,\n      photoURL\n    });\n    setFormValue('');\n    dummy.current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"mainChat\",\n      children: [messages && messages.map(msg => /*#__PURE__*/_jsxDEV(ChatMessage, {\n        message: msg\n      }, msg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 44\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: dummy\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: sendMessage,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: formValue,\n        onChange: e => setFormValue(e.target.value),\n        placeholder: \"say something nice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !formValue,\n        children: /*#__PURE__*/_jsxDEV(FaLocationArrow, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ChatRoom, \"w/omJkpymRsWwV2v3tuh5N/YjmU=\", true);\n\n_c = ChatRoom;\nexport default ChatRoom;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatRoom\");","map":{"version":3,"sources":["E:/ITI/React/AZ Chat/src/Components/ChatRoom.js"],"names":["React","firestore","ChatRoom","dummy","useRef","messagesRef","collection","query","orderBy","limit","messages","useCollectionData","idField","formValue","setFormValue","useState","useEffect","btnStyleEl","document","querySelector","sginBtnEl","style","display","console","log","sendMessage","e","preventDefault","uid","photoURL","auth","currentUser","add","text","createdAt","firebase","FieldValue","serverTimestamp","current","scrollIntoView","behavior","map","msg","id","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,sBAA1B;;;;AAEA,SAASC,QAAT,GAAmB;AAAA;;AACf,QAAMC,KAAK,GAAGC,MAAM,EAApB;AACA,QAAMC,WAAW,GAAGJ,SAAS,CAACK,UAAV,CAAqB,UAArB,CAApB;AACA,QAAMC,KAAK,GAAGF,WAAW,CAACG,OAAZ,CAAoB,WAApB,EAAiCC,KAAjC,CAAuC,EAAvC,CAAd;AACA,QAAM,CAACC,QAAD,IAAaC,iBAAiB,CAACJ,KAAD,EAAQ;AAACK,IAAAA,OAAO,EAAE;AAAV,GAAR,CAApC;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BC,QAAQ,CAAC,EAAD,CAA1C;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMC,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAnB;AACA,UAAMC,SAAS,GAAGF,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAlB;AACAF,IAAAA,UAAU,CAACI,KAAX,CAAiBC,OAAjB,GAA2B,cAA3B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAaP,UAAb,EAAyBG,SAAzB;AACD,GALQ,EAKN,EALM,CAAT;;AAOA,QAAMK,WAAW,GAAG,MAAMC,CAAN,IAAY;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAM;AAAEC,MAAAA,GAAF;AAAOC,MAAAA;AAAP,QAAoBC,IAAI,CAACC,WAA/B;AAEA,UAAM1B,WAAW,CAAC2B,GAAZ,CAAgB;AACpBC,MAAAA,IAAI,EAAEpB,SADc;AAEpBqB,MAAAA,SAAS,EAAEC,QAAQ,CAAClC,SAAT,CAAmBmC,UAAnB,CAA8BC,eAA9B,EAFS;AAGpBT,MAAAA,GAHoB;AAIpBC,MAAAA;AAJoB,KAAhB,CAAN;AAOAf,IAAAA,YAAY,CAAC,EAAD,CAAZ;AAEAX,IAAAA,KAAK,CAACmC,OAAN,CAAcC,cAAd,CAA6B;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAA7B;AACD,GAfD;;AAiBA,sBACE;AAAA,4BACE;AAAS,MAAA,EAAE,EAAC,UAAZ;AAAA,iBACG9B,QAAQ,IAAIA,QAAQ,CAAC+B,GAAT,CAAaC,GAAG,iBAAI,QAAC,WAAD;AAA0B,QAAA,OAAO,EAAEA;AAAnC,SAAkBA,GAAG,CAACC,EAAtB;AAAA;AAAA;AAAA;AAAA,cAApB,CADf,eAEE;AAAK,QAAA,GAAG,EAAExC;AAAV;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAME;AAAM,MAAA,QAAQ,EAAEsB,WAAhB;AAAA,8BACE;AAAO,QAAA,KAAK,EAAEZ,SAAd;AAAyB,QAAA,QAAQ,EAAGa,CAAD,IAAOZ,YAAY,CAACY,CAAC,CAACkB,MAAF,CAASC,KAAV,CAAtD;AAAwE,QAAA,WAAW,EAAC;AAApF;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,QAAQ,EAAE,CAAChC,SAAjC;AAAA,+BAA4C,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAA5C;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YANF;AAAA,kBADF;AAaH;;GA3CQX,Q;;KAAAA,Q;AA6CT,eAAeA,QAAf","sourcesContent":["import React from 'react'\r\nimport { firestore } from '../Firebase/Firebase';\r\n\r\nfunction ChatRoom(){\r\n    const dummy = useRef();\r\n    const messagesRef = firestore.collection('messages');\r\n    const query = messagesRef.orderBy('createdAt').limit(25);\r\n    const [messages] = useCollectionData(query, {idField: 'id'});\r\n    const [formValue, setFormValue] = useState('');\r\n    useEffect(() => {\r\n      const btnStyleEl = document.querySelector(\".btnStyle\");\r\n      const sginBtnEl = document.querySelector(\".sginBtn\");\r\n      btnStyleEl.style.display = 'inline-block';        \r\n      console.log( btnStyleEl, sginBtnEl );\r\n    }, []);\r\n  \r\n    const sendMessage = async(e) => {\r\n      e.preventDefault();\r\n  \r\n      const { uid, photoURL } = auth.currentUser;\r\n  \r\n      await messagesRef.add({\r\n        text: formValue,\r\n        createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n        uid,\r\n        photoURL\r\n      });\r\n  \r\n      setFormValue('');\r\n  \r\n      dummy.current.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  \r\n    return(\r\n      <>\r\n        <section id=\"mainChat\">\r\n          {messages && messages.map(msg => <ChatMessage key={msg.id} message={msg} />)}\r\n          <div ref={dummy}></div>\r\n        </section>\r\n  \r\n        <form onSubmit={sendMessage}>\r\n          <input value={formValue} onChange={(e) => setFormValue(e.target.value)} placeholder=\"say something nice\" />\r\n          <button type=\"submit\" disabled={!formValue}><FaLocationArrow /></button>\r\n        </form>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default ChatRoom\r\n"]},"metadata":{},"sourceType":"module"}